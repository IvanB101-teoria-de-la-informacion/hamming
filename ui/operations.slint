import { Button, HorizontalBox , ScrollView , ComboBox, CheckBox} from "std-widgets.slint";
import { State } from "state.slint";

component OpButton inherits Button {
    width: 150px;
    height: 30px;
}

export component Operations inherits Rectangle {
    VerticalLayout {
        padding: 15px;
        alignment: space-around;

        HorizontalLayout {
            alignment: start;

            OpButton {
                text: "Proteger";
                clicked => { State.operation("hamming", combo-box.current-value) }
            }
            Text {
                vertical-alignment: center;
                text: "  Tamaño de bloque: ";
            }
            combo-box := ComboBox {
                width: 100px;
                current-value: State.block-size;
                model: ["32", "2048", "65536"];
                selected => {
                    State.block-size = self.current-value;
                }
            }
        }
        HorizontalLayout {
            alignment: start;
            OpButton {
                text: "Desproteger";
                clicked => { State.operation("dehamming", correct.checked? "true" : "false") }
            }
            Text {
                text: "   ";
            }
            correct := CheckBox { 
                text: "  Corrección ";
                checked: State.correct;
                toggled => {
                    State.correct = !State.correct
                }
            }
        }
        HorizontalLayout {
            alignment: start;
            
            OpButton {
                text: "Corromper";
                clicked => { State.operation("corrupt", "") }
            }
        }
        OpButton {
            text: "Comprimir";
            clicked => { State.operation("huffman", "") }
        }
        OpButton {
            text: "Descomprimir";
            clicked => { State.operation("dehuffman", "") }
        }
    }
}
